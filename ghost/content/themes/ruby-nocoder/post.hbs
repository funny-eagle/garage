{{!< default}}

<div class="container">
    <div class="row">
        <div class="content-column col-lg-8{{#if @custom.show_sidebar_on_post}}{{#if @custom.show_related_posts}} col-lg-6{{/if}}{{/if}}{{#unless @custom.show_sidebar_on_post}}{{#unless @custom.show_related_posts}} shift{{/unless}}{{/unless}}">
            <div class="content-area">
                <main class="site-main">
                    {{#post}}
                        <article
                            class="{{post_class}}{{#unless feature_image}} no-image{{/unless}} single u-shadow">
                            {{> post-header tag="h1" hide_link=true}}
                            <div class="post-meta">
                                <time class="post-meta-date"
                                    datetime="{{date format="YYYY-MM-DD"}}">
                                    {{date published_at}}
                                </time>
                                <span
                                    class="post-meta-length">{{reading_time}}</span>
                            </div>
                            {{> post-media with_caption=true}}
                            <div class="post-wrapper">
                                <div class="post-content u-text-format">
                                    {{content}}
                                </div>
                                {{> tags}}

                                <div id="gitalk-container"></div>
                                <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
                                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
                                <script type="text/javascript">
                                    var gitalk = new Gitalk({
                                    clientID: '577aaa85ea79022e3f62',
                                    clientSecret: '2fc19f0394ac8d65d1747738afba9d4aae2c44fd',
                                    repo: 'nocoder-gitalk',
                                    owner: 'nocdr',
                                    admin: ['nocdr'],
                                    id: location.pathname,      // Ensure uniqueness and length less than 50
                                    distractionFreeMode: false  // Facebook-like distraction free mode
                                    })

                                gitalk.render('gitalk-container')
                                </script>

                            </div>
                        </article>
                        {{#if @custom.show_author}}
                            {{> author}}
                        {{/if}}
                        {{> post-navigation}}
                        {{> comment}}
                        
                    {{/post}}
                </main>
            </div>
        </div>
        {{#if @custom.show_related_posts}}
            <div class="related-column {{#unless @custom.show_sidebar_on_post}}col-lg-4{{else}}col-lg-3{{/unless}} hidden-xs hidden-sm hidden-md">
                {{> related}}
            </div>
        {{/if}}
        {{#if @custom.show_sidebar_on_post}}
            <div class="sidebar-column {{#unless @custom.show_related_posts}}col-lg-4{{else}}col-lg-3{{/unless}} hidden-xs hidden-sm hidden-md">
                {{> widgets/widgets}}
            </div>
        {{/if}}
    </div>
</div>
